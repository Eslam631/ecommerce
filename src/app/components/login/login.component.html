<section class="bg-main-light shadow p-2 rounded-4 my-4">
  <h1 class="text-main h2">login Now:</h1>
  <form [formGroup]="loginForm" (ngSubmit)="loginSubmit()">

    <div class="my-2">
      <label for="email">email</label>
      <input [ngClass]="{'is-valid': !loginForm.get('email')?.errors && (loginForm.get('email')?.touched ||loginForm.get('email')?.dirty),
      'is-invalid': loginForm.get('email')?.errors && (loginForm.get('email')?.touched ||loginForm.get('email')?.dirty)}" formControlName="email" type="email" id="email" class="form-control">
      @if(loginForm.get('email')?.errors && (loginForm.get('email')?.touched ||loginForm.get('email')?.dirty)

){
      <div class="alert alert-danger w-50">
@if(loginForm.get('email')?.getError('required')){
        <p class="m-0">Email is required</p>}
        @else if(loginForm.get('email')?.getError('email')){
        <p class="m-0">Enter Valid Email</p>}

      </div>}

    </div>
    <div class="my-2">
      <label for="password">password</label>
      <input [ngClass]="{'is-valid':!loginForm.get('password')?.errors &&( loginForm.get('password')?.touched || loginForm.get('password')?.dirty),
      'is-invalid':loginForm.get('password')?.errors &&( loginForm.get('password')?.touched || loginForm.get('password')?.dirty)

      }" formControlName="password" type="password" id="password" class="form-control">
      @if(loginForm.get('password')?.errors &&( loginForm.get('password')?.touched || loginForm.get('password')?.dirty)

      ){
            <div class="alert alert-danger w-50">
      @if(loginForm.get('password')?.getError('required')){
              <p class="m-0">password is required</p>}
              @else if(loginForm.get('password')?.getError('pattern')){
              <p class="m-0">Enter Valid password</p>}

            </div>}

    </div>
    <div class="d-flex align-items-center justify-content-end gap-4">

    <a routerLink="/forgot" class="link-primary">ForgotPassword</a>

    <button [disabled]="loginForm.invalid ||isLoading" type="submit" class="btn-main ">login
      @if(isLoading){
      <span><i class="fas fa-spin fa-spinner"></i></span>}
    </button></div>
    @if(msgError){
      <p class="alert alert-danger w-50 m-0">{{msgError}} </p>
    }
   


    @if (msgSuccess==true) {
      <p class="alert alert-success w-50 m-0">success</p>
    }
  </form>
</section>
