import './polyfills.server.mjs';
import{a as N}from"./chunk-UJ6RP4SM.mjs";import{a as G}from"./chunk-WD7OJTEW.mjs";import{a as V,b as $,c as j,d as R}from"./chunk-4EILOQJ7.mjs";import{a as O}from"./chunk-DOC7U5NU.mjs";import{a as W}from"./chunk-RIEM3ZJ4.mjs";import{a as Y,b as q,c as J}from"./chunk-UFHXFOBE.mjs";import{a as U}from"./chunk-QLETTNOU.mjs";import"./chunk-GTSSCL6B.mjs";import{l as M}from"./chunk-DXLZQZML.mjs";import"./chunk-GAWFRP2Z.mjs";import{m as B}from"./chunk-XRAZEYMU.mjs";import{p as A}from"./chunk-54LN4SOV.mjs";import{Hb as m,Ib as v,Jb as y,Ma as P,Pb as I,Qa as s,Qb as F,Rb as k,Tb as D,Wb as C,Xb as z,Y as d,Yb as H,aa as L,fb as g,hb as p,ka as S,la as b,lb as T,mb as E,nb as _,ob as h,pb as r,qb as o,rb as c,ub as w,yb as f,zb as u}from"./chunk-A4XH3RZS.mjs";import"./chunk-VVCT4QZE.mjs";var X=(e,i)=>i._id,Z=(e,i)=>i.id,ee=(e,i,n)=>({id:"productPaginate",itemsPerPage:e,currentPage:i,totalItems:n}),K=e=>["/details",e],te=()=>[1,2,3,4,5];function ie(e,i){e&1&&c(0,"img",12)}function ne(e,i){e&1&&c(0,"img",13)}function ae(e,i){e&1&&c(0,"img",14)}function re(e,i){e&1&&c(0,"img",15)}function oe(e,i){if(e&1&&(r(0,"div"),c(1,"img",16),r(2,"h3",17),m(3),o()()),e&2){let n=u().$implicit;s(),p("routerLink",k(4,K,n._id))("src",n.image,P)("alt",n.name),s(2),v(n.name)}}function se(e,i){e&1&&g(0,oe,4,6,"ng-template",4)}function le(e,i){e&1&&c(0,"i",19)}function ce(e,i){if(e&1){let n=w();r(0,"i",27),f("click",function(){S(n);let t=u().$implicit,l=u();return b(l.addWishList(t.id))}),o()}}function me(e,i){e&1&&(r(0,"span"),c(1,"i",28),o())}function pe(e,i){e&1&&(r(0,"span"),c(1,"i",29),o())}function de(e,i){if(e&1){let n=w();r(0,"div",9)(1,"div",18)(2,"span"),g(3,le,1,0,"i",19)(4,ce,1,0),o(),r(5,"div",20),c(6,"img",21),r(7,"h3",22),m(8),o(),r(9,"h4",23),m(10),o(),r(11,"div",24)(12,"span"),m(13),C(14,"currency"),o(),r(15,"div"),_(16,me,2,0,"span",null,E),g(18,pe,2,0,"span"),r(19,"span",25),m(20),o()()()(),r(21,"button",26),f("click",function(){let t=S(n).$implicit,l=u();return b(l.addCart(t.id))}),m(22,"Add To Card"),o()()()}if(e&2){let n=i.$implicit,a=u();s(3),T(3,a.wishId.includes(n.id)?3:4),s(2),p("routerLink",k(11,K,n.id)),s(),p("src",n.imageCover,P)("alt",n.title),s(2),v(n.category.name),s(2),y(" ",n.title.split(" ",2).join(" ")," "),s(3),y("",z(14,9,n.price),"EGP "),s(3),h(F(13,te).slice(0,n.ratingsAverage)),s(2),T(18,n.ratingsAverage%1!==0?18:-1),s(2),v(n.ratingsAverage)}}var Le=(()=>{let i=class i{constructor(){this.productsList=[],this.categorieslist=[],this.text="",this.wishId=null,this._ProductsService=d(V),this._CategoriesService=d(W),this._CartService=d(O),this._ToastrService=d(U),this._WishlistService=d(G),this.pageSize=0,this.currentPage=1,this.total=0,this.customOptionsMain={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,navSpeed:700,navText:["",""],items:1,nav:!0},this.customOptionsCat={loop:!0,mouseDrag:!0,touchDrag:!0,pullDrag:!1,dots:!0,autoplay:!0,autoplayTimeout:3e3,autoplayHoverPause:!0,navSpeed:700,navText:["",""],responsive:{0:{items:2},400:{items:3},740:{items:5},940:{items:6}},nav:!0}}ngOnInit(){this._CategoriesService.getCatogeries().subscribe({next:a=>{this.categorieslist=a.data},error(a){console.log(a)}}),this.getAllProductSub=this._ProductsService.getAllProducts().subscribe({next:a=>{this.productsList=a.data,this.pageSize=a.metadata.limit,this.currentPage=a.metadata.currentPage,this.total=a.results,localStorage.getItem("heart")!==null&&(this.wishId=localStorage.getItem("heart"))},error:a=>{}})}ngOnDestroy(){this.getAllProductSub?.unsubscribe()}addCart(a){this._CartService.getCartItems(a).subscribe({next:t=>{this._ToastrService.success(t.message,t.status),this._CartService.cardNumber.next(t.numOfCartItems)},error:t=>{console.log(t)}})}addWishList(a){this._WishlistService.addWishList(a).subscribe({next:t=>{this._ToastrService.success(t.message,t.status),this.wishId=t.data,localStorage.setItem("heart",this.wishId.toString())},error:t=>{console.log(t)}})}pageChanged(a){this._ProductsService.getAllProducts(a).subscribe({next:t=>{console.log(t.metadata),this.productsList=t.data,this.pageSize=t.metadata.limit,this.currentPage=t.metadata.currentPage,this.total=t.results},error:t=>{console.log(t)}})}};i.\u0275fac=function(t){return new(t||i)},i.\u0275cmp=L({type:i,selectors:[["app-home"]],standalone:!0,features:[I],decls:29,vars:16,consts:[[1,"my-2"],[1,"row","g-0"],[1,"col-md-10"],[3,"options"],["carouselSlide",""],[1,"col-md-2"],["src","./assets/images/ar_dk_eg-hero-01-hp.1724575243.7241375.avif","alt","","height","150",1,"w-100"],["height","150px","src","./assets/images/ar_dk_eg-hero-01-hp.1724661158.7442114.avif","alt","",1,"w-100"],[1,"row"],[1,"col-md-2","p-2"],[1,"d-flex","justify-content-center","align-items-center","mt-4"],["id","productPaginate","previousLabel","Previous","nextLabel","Next","screenReaderPaginationLabel","Pagination","screenReaderPageLabel","page","screenReaderCurrentLabel","You're on page",3,"pageChange","pageBoundsCorrection","maxSize","directionLinks","autoHide","responsive"],["src","./assets/images/03310d60-23f5-445c-8f9b-cbe45b5313c2.gif","height","300px","alt","",1,"w-100"],["src","./assets/images/13b7341d-4e10-4db1-b59e-1146dc7b7937.avif","height","300px","alt","",1,"w-100"],["src","./assets/images/7484d5fb-6dac-49a9-aac2-0be00a226d55.gif","height","300px","alt","",1,"w-100"],["src","./assets/images/7b0d996e-8c78-47e9-92b0-b097bfcac95f.avif","height","300px","alt","",1,"w-100"],["height","250px",1,"w-100",3,"routerLink","src","alt"],[1,"text-main","h6"],[1,"product","p-2"],[1,"fa-solid","fa-heart","fa-xl",2,"color","#f00000"],[3,"routerLink"],[1,"w-100",3,"src","alt"],[1,"small","text-main"],[1,"h6"],[1,"d-flex","justify-content-between","align-items-center"],[1,"text-muted"],[1,"btn-main","w-100",3,"click"],[1,"fa-regular","fa-heart","text-main","fa-xl",3,"click"],[1,"fas","fa-star","rating-color"],[1,"fas","fa-star-half-stroke","rating-color"]],template:function(t,l){t&1&&(r(0,"section",0)(1,"div",1)(2,"div",2)(3,"div")(4,"owl-carousel-o",3),g(5,ie,1,0,"ng-template",4)(6,ne,1,0,"ng-template",4)(7,ae,1,0,"ng-template",4)(8,re,1,0,"ng-template",4),o()()(),r(9,"div",5)(10,"div"),c(11,"img",6)(12,"img",7),o()()()(),r(13,"section",0)(14,"h2"),m(15,"Popular Categories"),o(),r(16,"owl-carousel-o",3),_(17,se,1,0,null,4,X),o()(),r(19,"section")(20,"h2"),m(21,"Popular Products:"),o(),r(22,"div",8),_(23,de,23,14,"div",9,Z),C(25,"paginate"),C(26,"search"),o(),r(27,"div",10)(28,"pagination-controls",11),f("pageChange",function(x){return l.pageChanged(x)})("pageBoundsCorrection",function(x){return l.pageChanged(x)}),o()()()),t&2&&(s(4),p("options",l.customOptionsMain),s(12),p("options",l.customOptionsCat),s(),h(l.categorieslist),s(6),h(H(26,9,H(25,6,l.productsList.slice(0,12),D(12,ee,l.pageSize,l.currentPage,l.total)),l.text)),s(5),p("maxSize",9)("directionLinks",!0)("autoHide",!0)("responsive",!0))},dependencies:[R,j,$,B,N,M,A,J,Y,q]});let e=i;return e})();export{Le as HomeComponent};
